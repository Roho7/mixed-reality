<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR Experience Starter</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/2.2.2/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      #interface {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1;
      }
    </style>
  </head>
  <body>
    <div id="interface">
      <input type="text" id="latitude" placeholder="Latitude" />
      <input type="text" id="longitude" placeholder="Longitude" />
      <button id="startButton">Start Experience</button>
      <a href="./infront.html">Render infront</a>
    </div>
    <!-- A-Frame AR scene (initially hidden) -->
    <a-scene
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
      style="display: none">
      <!-- Camera with GPS tracking -->
      <a-camera
        gps-camera="simulateLatitude: 0; simulateLongitude: 0; minDistance: 0"></a-camera>
      <!-- Placeholder for AR content -->
      <a-image
        id="arImage"
        gps-entity-place="latitude: 0; longitude: 0;"
        src="./path/to/your/image.png"
        height="1"
        width="1"
        rotation="-90 0 0"></a-image>
    </a-scene>

    <script>
      document
        .getElementById("startButton")
        .addEventListener("click", function () {
          const lat = document.getElementById("latitude").value;
          const lon = document.getElementById("longitude").value;

          // Check if latitude and longitude are provided
          if (lat && lon) {
            // Hide interface and show A-Frame scene
            document.getElementById("interface").style.display = "none";
            document.querySelector("a-scene").style.display = "block";

            // Update camera to simulate position (use gps-camera for real-world use)
            document
              .querySelector("a-camera")
              .setAttribute(
                "gps-camera",
                `simulateLatitude: ${lat}; simulateLongitude: ${lon}`,
              );

            // Set image position
            document
              .getElementById("arImage")
              .setAttribute(
                "gps-entity-place",
                `latitude: ${lat}; longitude: ${lon}`,
              );
          } else {
            alert("Please enter both latitude and longitude");
          }
        });
    </script>
  </body>
</html>
